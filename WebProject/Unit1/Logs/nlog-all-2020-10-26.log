2020-10-26 13:12:55.5836|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5000
2020-10-26 13:12:55.7731|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-10-26 13:12:55.7824|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Staging
2020-10-26 13:12:55.7824|INFO|Microsoft.Hosting.Lifetime|Content root path: E:\doucments\MyProject\MyWeb\WebProject\Unit1\StudentManagement\StudentManagement
2020-10-26 13:13:02.9524|INFO|StudentManagement.Models.SQLStudentRepository|学生信息 信息(Information)Log
2020-10-26 13:13:02.9712|WARN|StudentManagement.Models.SQLStudentRepository|学生信息 警告(Warning)Log
2020-10-26 13:13:02.9712|ERROR|StudentManagement.Models.SQLStudentRepository|学生信息 错误(Error)Log
2020-10-26 13:13:02.9881|FATAL|StudentManagement.Models.SQLStudentRepository|学生信息 严重(Critical)Log
2020-10-26 13:33:55.5313|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://localhost:5000
2020-10-26 13:33:55.6144|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-10-26 13:33:55.6144|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Staging
2020-10-26 13:33:55.6144|INFO|Microsoft.Hosting.Lifetime|Content root path: E:\doucments\MyProject\MyWeb\WebProject\Unit1\StudentManagement\StudentManagement
2020-10-26 13:33:58.2733|INFO|StudentManagement.Models.SQLStudentRepository|学生信息 信息(Information)Log
2020-10-26 13:33:58.2959|WARN|StudentManagement.Models.SQLStudentRepository|学生信息 警告(Warning)Log
2020-10-26 13:33:58.2959|ERROR|StudentManagement.Models.SQLStudentRepository|学生信息 错误(Error)Log
2020-10-26 13:33:58.2959|FATAL|StudentManagement.Models.SQLStudentRepository|学生信息 严重(Critical)Log
2020-10-26 13:34:36.2393|ERROR|Microsoft.EntityFrameworkCore.Database.Command|Failed executing DbCommand (92ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [AspNetRoles]
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
SELECT @@ROWCOUNT;
2020-10-26 13:34:36.3995|ERROR|Microsoft.EntityFrameworkCore.Update|An exception occurred in the database while saving changes for context type 'StudentManagement.Models.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_AspNetUserRoles_AspNetRoles_RoleId". The conflict occurred in database "StudentDB", table "dbo.AspNetUserRoles", column 'RoleId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6b761a45-6b61-48ae-9ce6-5a8c725036fa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-10-26 13:34:36.6545|ERROR|StudentManagement.Controllers.AdminController|发生异常 :Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_AspNetUserRoles_AspNetRoles_RoleId". The conflict occurred in database "StudentDB", table "dbo.AspNetUserRoles", column 'RoleId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6b761a45-6b61-48ae-9ce6-5a8c725036fa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.RoleStore`5.SaveChanges(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.RoleStore`5.DeleteAsync(TRole role, CancellationToken cancellationToken)
   at StudentManagement.Controllers.AdminController.DeleteRole(String id) in E:\doucments\MyProject\MyWeb\WebProject\Unit1\StudentManagement\StudentManagement\Controllers\AdminController.cs:line 319
2020-10-26 16:05:10.3624|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://127.0.0.1:14334
2020-10-26 16:05:10.4944|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-10-26 16:05:10.4997|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2020-10-26 16:05:10.4997|INFO|Microsoft.Hosting.Lifetime|Content root path: E:\doucments\MyProject\MyWeb\WebProject\Unit1\StudentManagement\StudentManagement
2020-10-26 16:05:14.4499|INFO|StudentManagement.Models.SQLStudentRepository|学生信息 信息(Information)Log
2020-10-26 16:05:14.4672|WARN|StudentManagement.Models.SQLStudentRepository|学生信息 警告(Warning)Log
2020-10-26 16:05:14.4733|ERROR|StudentManagement.Models.SQLStudentRepository|学生信息 错误(Error)Log
2020-10-26 16:05:14.4733|FATAL|StudentManagement.Models.SQLStudentRepository|学生信息 严重(Critical)Log
2020-10-26 16:24:29.9416|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://127.0.0.1:29714
2020-10-26 16:24:30.0380|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-10-26 16:24:30.0380|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2020-10-26 16:24:30.0464|INFO|Microsoft.Hosting.Lifetime|Content root path: E:\doucments\MyProject\MyWeb\WebProject\Unit1\StudentManagement\StudentManagement
2020-10-26 16:24:30.5644|INFO|StudentManagement.Models.SQLStudentRepository|学生信息 信息(Information)Log
2020-10-26 16:24:30.5852|WARN|StudentManagement.Models.SQLStudentRepository|学生信息 警告(Warning)Log
2020-10-26 16:24:30.5852|ERROR|StudentManagement.Models.SQLStudentRepository|学生信息 错误(Error)Log
2020-10-26 16:24:30.5952|FATAL|StudentManagement.Models.SQLStudentRepository|学生信息 严重(Critical)Log
2020-10-26 16:25:04.3264|INFO|StudentManagement.Models.SQLStudentRepository|学生信息 信息(Information)Log
2020-10-26 16:25:04.3327|WARN|StudentManagement.Models.SQLStudentRepository|学生信息 警告(Warning)Log
2020-10-26 16:25:04.3327|ERROR|StudentManagement.Models.SQLStudentRepository|学生信息 错误(Error)Log
2020-10-26 16:25:04.3327|FATAL|StudentManagement.Models.SQLStudentRepository|学生信息 严重(Critical)Log
2020-10-26 16:26:15.4153|INFO|Microsoft.Hosting.Lifetime|Now listening on: http://127.0.0.1:19692
2020-10-26 16:26:15.5169|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2020-10-26 16:26:15.5169|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2020-10-26 16:26:15.5169|INFO|Microsoft.Hosting.Lifetime|Content root path: E:\doucments\MyProject\MyWeb\WebProject\Unit1\StudentManagement\StudentManagement
2020-10-26 16:26:16.3513|INFO|StudentManagement.Models.SQLStudentRepository|学生信息 信息(Information)Log
2020-10-26 16:26:16.3694|WARN|StudentManagement.Models.SQLStudentRepository|学生信息 警告(Warning)Log
2020-10-26 16:26:16.3757|ERROR|StudentManagement.Models.SQLStudentRepository|学生信息 错误(Error)Log
2020-10-26 16:26:16.3757|FATAL|StudentManagement.Models.SQLStudentRepository|学生信息 严重(Critical)Log
